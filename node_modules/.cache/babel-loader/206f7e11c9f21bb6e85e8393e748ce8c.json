{"ast":null,"code":"var _jsxFileName = \"/Users/williamstansbury/Desktop/CS185/test-app/src/Components/Messages.js\";\nimport React, { Component } from 'react';\nimport ScrollUpButton from \"react-scroll-up-button\";\nimport config from './config.js';\n\nconst firebase = require('firebase');\n\nconst sample = [\"hi\", \"hello\", \"how are you\"];\nvar notGonnaWork;\nexport class Messages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      shouldUpdate: false,\n      nameValue: \"\",\n      bioValue: \"\",\n      messageValue: \"\",\n      emailValue: \"\",\n      dateValue: \"\",\n      messageVisisble: false\n    };\n    this.handleChangeName = this.handleChangeName.bind(this);\n    this.handleChangeBio = this.handleChangeBio.bind(this);\n    this.handleChangeMessage = this.handleChangeMessage.bind(this);\n    this.handleChangeEmail = this.handleChangeEmail.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    firebase.initializeApp(config);\n    let ref = firebase.database().ref('data');\n    console.log(ref);\n    ref.on('value', snapshot => {\n      const data = snapshot.val();\n      console.log(Object.values(data)); // console.log(Object.values)\n\n      this.setState({\n        data: Object.values(data)\n      });\n      notGonnaWork = this.state;\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    console.log(\"update?\"); //only call set state here if it is wrapped in a condition\n    //if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\n    //filp shouldUpdate in the onclick function\n    //react form / submit button\n\n    if (this.state.shouldUpdate !== prevState.shouldUpdate) {\n      let ref = firebase.database().ref('data');\n      ref.on('value', snapshot => {\n        const data = snapshot.val();\n        this.setState({\n          data: Object.values(data)\n        });\n      });\n    }\n  }\n\n  handleChangeName(event) {\n    this.setState({\n      nameValue: event.target.value\n    });\n  }\n\n  handleChangeBio(event) {\n    this.setState({\n      bioValue: event.target.value\n    });\n  }\n\n  handleChangeMessage(event) {\n    this.setState({\n      messageValue: event.target.value\n    });\n  }\n\n  handleChangeEmail(event) {\n    this.setState({\n      emailValue: event.target.value\n    });\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.name === 'messageVisisble' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit(event) {\n    const now = new Date();\n    var jsonBody = {\n      \"bio\": this.state.bioValue,\n      \"can_post\": this.state.messageVisisble,\n      \"date\": now.toString().substring(0, 15),\n      \"email\": this.state.emailValue,\n      \"message\": this.state.messageValue,\n      \"name\": this.state.nameValue\n    };\n\n    if (this.state.nameValue.length < 5) {\n      console.log(\"name too short\");\n      alert('Name too short');\n    } else if (this.state.nameValue.length > 20) {\n      console.log(\"name too long\");\n      alert('Name too long');\n    } else if (this.state.bioValue.length > 100) {\n      console.log(\"bio too long\");\n      alert('Bio too long');\n    } else if (this.state.messageValue.length < 20) {\n      console.log(this.state.messageValue.length);\n      alert('Message too short');\n    } else if (this.state.messageValue.length > 500) {\n      console.log(\"message too long\");\n      alert('Message too long');\n    } else {\n      firebase.database().ref('data').push().set(jsonBody);\n      alert('Message Submitted!');\n    }\n\n    event.preventDefault();\n    this.setState({\n      shouldUpdate: !this.state.shouldUpdate\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ScrollUpButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 6\n      }\n    }, \"Messages\")), /*#__PURE__*/React.createElement(\"body\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 7\n      }\n    }, \"Name:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChangeName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, \"Bio:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChangeBio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 7\n      }\n    }, \"Message:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChangeMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, \"Email:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChangeEmail,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }\n    }))), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, \"Message Visible:\", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"messageVisisble\",\n      type: \"checkbox\",\n      checked: this.state.messageVisisble,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 6\n      }\n    }, console.log(Object.values(this.state.data)), Object.values(this.state.data).map((s, index) => s.can_post == true ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 12\n      }\n    }, s.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 12\n      }\n    }, s.bio), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 12\n      }\n    }, s.message), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 12\n      }\n    }, s.date), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 12\n      }\n    }, \"------------\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 10\n      }\n    })))));\n  }\n\n}\nexport default Messages;","map":{"version":3,"sources":["/Users/williamstansbury/Desktop/CS185/test-app/src/Components/Messages.js"],"names":["React","Component","ScrollUpButton","config","firebase","require","sample","notGonnaWork","Messages","constructor","props","state","data","shouldUpdate","nameValue","bioValue","messageValue","emailValue","dateValue","messageVisisble","handleChangeName","bind","handleChangeBio","handleChangeMessage","handleChangeEmail","handleInputChange","handleSubmit","componentDidMount","initializeApp","ref","database","console","log","on","snapshot","val","Object","values","setState","componentDidUpdate","prevProps","prevState","event","target","value","name","checked","now","Date","jsonBody","toString","substring","length","alert","push","set","preventDefault","render","map","s","index","can_post","bio","message","date"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ScrollUpButton from \"react-scroll-up-button\";\nimport config from './config.js'\nconst firebase = require('firebase');\n\nconst sample = [\"hi\", \"hello\", \"how are you\"];\nvar notGonnaWork;\nexport class Messages extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {data: {},\n\t\tshouldUpdate: false,\n\t\tnameValue: \"\",\n\t\tbioValue: \"\",\n\t\tmessageValue: \"\",\n\t\temailValue: \"\",\n\t\tdateValue: \"\",\n\t\tmessageVisisble: false }\n\n\n\n\t\tthis.handleChangeName = this.handleChangeName.bind(this);\n\t\tthis.handleChangeBio = this.handleChangeBio.bind(this);\n\t\tthis.handleChangeMessage = this.handleChangeMessage.bind(this);\n\t\tthis.handleChangeEmail = this.handleChangeEmail.bind(this);\n\t\tthis.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tfirebase.initializeApp(config)\n\t\tlet ref = firebase.database().ref('data')\n\t\tconsole.log(ref)\n\t\tref.on('value', snapshot => {\n\t\t\tconst data = snapshot.val()\n\t\t\tconsole.log(Object.values(data))\n\n\t\t\t// console.log(Object.values)\n\t\t\tthis.setState({data: Object.values(data)})\n\t\t\tnotGonnaWork = this.state\n\t\t})\n\t}\n\tcomponentDidUpdate(prevProps, prevState, snapshot){\n\t\tconsole.log(\"update?\")\n\t\t\n\t\t//only call set state here if it is wrapped in a condition\n\t\t//if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\n\n\t\t//filp shouldUpdate in the onclick function\n\n\t\t//react form / submit button\n\t\tif(this.state.shouldUpdate !== prevState.shouldUpdate){\n\t\tlet ref = firebase.database().ref('data')\n\t\tref.on('value', snapshot => {\n\t\t\tconst data = snapshot.val()\n\t\t\tthis.setState({data: Object.values(data)})\n\t\t})\n\n\t\t}\n\t}\n\n\t  handleChangeName(event) {\n\t    this.setState({nameValue: event.target.value});\n\t  }\n\t  handleChangeBio(event) {\n\t    this.setState({bioValue: event.target.value});\n\t  }\n\t  handleChangeMessage(event) {\n\t    this.setState({messageValue: event.target.value});\n\t  }\n\t  handleChangeEmail(event) {\n\t  \tthis.setState({emailValue: event.target.value});\n\t  }\n\n\t  handleInputChange(event) {\n    const target = event.target;\n    const value = target.name === 'messageVisisble' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n\t  handleSubmit(event) {\n\t  \tconst now = new Date();\n\t  \tvar jsonBody = {\n\t\t\t\t\t\"bio\":this.state.bioValue,\n\t\t\t\t\t\"can_post\": this.state.messageVisisble,\n\t\t\t\t\t\"date\" : now.toString().substring(0,15),\n\t\t\t\t\t\"email\": this.state.emailValue,\n\t\t\t\t\t\"message\": this.state.messageValue,\n\t\t\t\t\t\"name\": this.state.nameValue\n\t\t\t\t}\n\t  \tif (this.state.nameValue.length < 5) {\n\t  \t\tconsole.log(\"name too short\")\n\t  \t\talert('Name too short');\n\t  \t}\n\t  \telse if (this.state.nameValue.length > 20) {\n\t  \t\tconsole.log(\"name too long\")\n\t  \t\talert('Name too long');\n\t  \t}\n\t  \telse if (this.state.bioValue.length > 100) {\n\t  \t\tconsole.log(\"bio too long\")\n\t  \t\talert('Bio too long');\n\t  \t}\n\t  \telse if (this.state.messageValue.length < 20) {\n\t  \t\tconsole.log(this.state.messageValue.length)\n\t  \t\talert('Message too short');\n\t  \t}\n\t  \telse if (this.state.messageValue.length > 500) {\n\t  \t\tconsole.log(\"message too long\")\n\t  \t\talert('Message too long');\n\t  \t} else {\n\t  \t\t\n\t\t\t\tfirebase.database().ref('data').push().set(jsonBody)\n\n\t\t    alert('Message Submitted!');\n\t\t    \n\n\t\t    \n\t  \t}\n\t  \tevent.preventDefault();\n\t  \tthis.setState({shouldUpdate: !this.state.shouldUpdate})\n\t  }\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<header>\n\t\t\t\t\t<ScrollUpButton />\n\t\t\t\t\t<h1>Messages</h1>\n\t\t\t\t\t</header>\n\t\t\t\t\t<body>\n\t\t\t\t\t<div class = \"column\">\n\t\t\t\t\t<form onSubmit={this.handleSubmit}>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t          Name:\n\t\t          <input type=\"text\" value={this.state.value} onChange={this.handleChangeName} />\n\t\t        </label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t          Bio:\n\t\t          <input type=\"text\" value={this.state.value} onChange={this.handleChangeBio} />\n\t\t        </label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t          Message:\n\t\t          <input type=\"text\" value={this.state.value} onChange={this.handleChangeMessage} />\n\t\t        </label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<label>\n\t\t          Email:\n\t\t          <input type=\"text\" value={this.state.value} onChange={this.handleChangeEmail} />\n\t\t        </label>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<input type=\"submit\" value=\"Submit\" />\n\t\t\t\t\t</p>\n\t\t        \n\t\t        \n\t\t        \n\t\t        \n\t\t      </form>\n\t\t      <label>\n\t\t          Message Visible:\n\t\t          <input\n\t\t            name=\"messageVisisble\"\n\t\t            type=\"checkbox\"\n\t\t            checked={this.state.messageVisisble}\n\t\t            onChange={this.handleInputChange} />\n\t\t        </label>\n\t\t        </div>\n\t\t\t\t\t<div class = \"column\">\n\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(Object.values(this.state.data))\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tObject.values(this.state.data).map((s,index) => (\n\t\t\t\t\t\t\t\ts.can_post==true ?\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{s.name}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{s.bio}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{s.message}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t{s.date}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t------------\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t</body>\n\t\t\t\t\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\nexport default Messages;"]},"metadata":{},"sourceType":"module"}