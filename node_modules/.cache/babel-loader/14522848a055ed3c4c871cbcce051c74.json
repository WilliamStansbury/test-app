{"ast":null,"code":"var _jsxFileName = \"/Users/williamstansbury/Desktop/CS185/test-app/src/Components/Movies.js\";\nimport React, { Component } from 'react';\nimport github1 from '../Images/github.png';\nimport ScrollUpButton from \"react-scroll-up-button\";\nimport { SRLWrapper } from 'simple-react-lightbox';\nimport ReactDOM from 'react-dom';\nimport config from './config.js';\n\nconst firebase = require('firebase');\n\nconst axios = require('axios'); // firebase.initializeApp(config)\n// var ref = firebase.database().ref('movies')\n\n\nvar movieIDs = [\"tt4633694\", \"tt0091419\", \"tt2582802\", \"tt2091935\", \"tt3416742\", \"tt0432283\", \"tt1465522\", \"tt0119116\", \"tt0446029\", \"tt0211915\", \"tt0097493\", \"tt0780536\"];\nvar images = [];\nvar captions = [];\nvar databaseMovies = []; // var ref = firebase.database().ref('movies')\n\nfunction updateMovies() {\n  images = [];\n  var codeBlock = '';\n  databaseMovies.forEach(element => axios.get(\"https://www.omdbapi.com/?apikey=71e07b98&i=\" + element).then(function (response) {\n    console.log(response);\n    var img = new Image();\n    var url = response.data.Poster;\n    img.src = url;\n    images.push(img);\n    console.log(url);\n    codeBlock = codeBlock + '<div class=\"container\"><img src =' + url + ' class = \"image\"/><div class = \"middle\"><div class=\"text\"></div></div></div>';\n  }).then(function (response) {\n    document.getElementById(\"innerArray\").innerHTML = codeBlock;\n  }).catch(function (error) {\n    console.error(error);\n  }));\n}\n\n;\n\nfunction testing() {\n  var ref = firebase.database().ref('movies');\n  databaseMovies = [];\n  console.log(\"NOTICE ME\");\n  ref.once('value', function (snap) {\n    snap.forEach(function (item) {\n      // ref.child(item.key).remove();\n      var itemVal = item.key; // ref.child(item.val()).remove();\n\n      console.log(\"itemVal:\");\n      console.log(itemVal);\n      databaseMovies.push(itemVal);\n    });\n    console.log(databaseMovies.length); //     for (var i=0; i < databaseMovies.length; i++) {\n    //     \tconsole.log(databaseMovies[i])\n    // //         counts.push(keys[i].wordcount);\n    //     }   \n  }).then(function (response) {\n    updateMovies();\n  });\n}\n\nfunction deleteMovie() {\n  // alert(\"delete\")\n  var ref = firebase.database().ref('movies'); // console.log(\"movie:\")\n  // console.log(databaseMovies[0])\n\n  var counter = 0;\n  ref.once('value', function (snap) {\n    snap.forEach(function (item) {\n      // ref.child(item.key).remove();\n      var itemVal = item.val();\n\n      if (counter === 0) {\n        console.log(\"movie:\");\n        console.log(itemVal); // ref.child(item.val()).remove();\n\n        ref.child(itemVal).remove();\n      }\n\n      counter = counter + 1; // ref.child(item.val()).remove();\n    });\n  }); // if (databaseMovies.length > 0) {\n  // \tref.child(databaseMovies[0].val()).remove();\n  // }\n}\n\nexport class Movies extends Component {\n  render() {\n    testing();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(ScrollUpButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"script\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 5\n      }\n    }, \"Movies\"), /*#__PURE__*/React.createElement(SRLWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"innerArray\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: deleteMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }, \"Delete a movie\")));\n  }\n\n}\nexport default Movies;","map":{"version":3,"sources":["/Users/williamstansbury/Desktop/CS185/test-app/src/Components/Movies.js"],"names":["React","Component","github1","ScrollUpButton","SRLWrapper","ReactDOM","config","firebase","require","axios","movieIDs","images","captions","databaseMovies","updateMovies","codeBlock","forEach","element","get","then","response","console","log","img","Image","url","data","Poster","src","push","document","getElementById","innerHTML","catch","error","testing","ref","database","once","snap","item","itemVal","key","length","deleteMovie","counter","val","child","remove","Movies","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport github1 from '../Images/github.png';\nimport ScrollUpButton from \"react-scroll-up-button\";\nimport { SRLWrapper } from 'simple-react-lightbox';\nimport ReactDOM from 'react-dom'\nimport config from './config.js'\nconst firebase = require('firebase');\nconst axios = require('axios');\n\n// firebase.initializeApp(config)\n// var ref = firebase.database().ref('movies')\n\nvar movieIDs = [\n\t\t\"tt4633694\",\n\t\t\"tt0091419\",\n\t\t\"tt2582802\",\n\t\t\"tt2091935\",\n\t\t\"tt3416742\",\n\t\t\"tt0432283\",\n\t\t\"tt1465522\",\n\t\t\"tt0119116\",\n\t\t\"tt0446029\",\n\t\t\"tt0211915\",\n\t\t\"tt0097493\",\n\t\t\"tt0780536\"\n\t\t];\n\nvar images = [];\n\nvar captions = [];\n\nvar databaseMovies = [];\n\n// var ref = firebase.database().ref('movies')\n\nfunction updateMovies() {\n\n\timages = []\n\tvar codeBlock = ''\n\tdatabaseMovies.forEach(element => \n\taxios.get(\"https://www.omdbapi.com/?apikey=71e07b98&i=\" + element).then(function(response) {\n\t\tconsole.log(response);\n\t\tvar img = new Image();\n\t\tvar url = response.data.Poster;\n\t\timg.src = url;\n\t\timages.push(img)\n\t\tconsole.log(url);\n\n\t\tcodeBlock = codeBlock + '<div class=\"container\"><img src =' + url + ' class = \"image\"/><div class = \"middle\"><div class=\"text\"></div></div></div>'\n\n\t}).then(function(response) {\n\t\tdocument.getElementById(\"innerArray\").innerHTML = codeBlock\n\n\t}).catch(function(error) {\n\t  \tconsole.error(error)\n\t})\n\t);\n};\n\nfunction testing() {\n\tvar ref = firebase.database().ref('movies');\n\tdatabaseMovies = []\n\n\tconsole.log(\"NOTICE ME\")\n\tref.once('value',function(snap) {\n    snap.forEach(function(item) {\n    \t// ref.child(item.key).remove();\n        var itemVal = item.key;\n        // ref.child(item.val()).remove();\n        console.log(\"itemVal:\")\n        console.log(itemVal);\n        databaseMovies.push(itemVal);\n    });\n    console.log(databaseMovies.length)\n//     for (var i=0; i < databaseMovies.length; i++) {\n\n//     \tconsole.log(databaseMovies[i])\n// //         counts.push(keys[i].wordcount);\n//     }   \n}).then(function(response) {\n\tupdateMovies();\n});\n}\n\nfunction deleteMovie() {\n\t\t\t\t\t\t\t// alert(\"delete\")\n\tvar ref = firebase.database().ref('movies');\n\t// console.log(\"movie:\")\n\t// console.log(databaseMovies[0])\n\tvar counter = 0;\n\tref.once('value',function(snap) {\n\t\tsnap.forEach(function(item) {\n    \t// ref.child(item.key).remove();\n        var itemVal = item.val();\n        if(counter === 0) {\n        \tconsole.log(\"movie:\")\n        \tconsole.log(itemVal);\n        \t// ref.child(item.val()).remove();\n        \tref.child(itemVal).remove();\n        }\n        counter = counter + 1;\n        // ref.child(item.val()).remove();\n\n    });\n\t});\n\n\t// if (databaseMovies.length > 0) {\n\t// \tref.child(databaseMovies[0].val()).remove();\n\t// }\n}\n\n\n\nexport class Movies extends Component {\n\n\n\n\trender() {\n\n\t\ttesting()\n\t\t\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ScrollUpButton />\n\n\t\t\t\t<script>\n\n\t\t\t\t</script>\n\n\t\t\t\t<h1>Movies</h1>\n\n\t\t\t\t\t<SRLWrapper> \n\t\t\t\t\t<div id = \"innerArray\">\n\t\t\t\t\t</div>\n\t\t\t\t\t</SRLWrapper>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button onClick={deleteMovie}>Delete a movie</button>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\n\nexport default Movies;"]},"metadata":{},"sourceType":"module"}