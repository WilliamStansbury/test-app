{"ast":null,"code":"import _classCallCheck from\"/Users/williamstansbury/Desktop/CS185/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/williamstansbury/Desktop/CS185/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/williamstansbury/Desktop/CS185/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/williamstansbury/Desktop/CS185/test-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import github1 from'../Images/github.png';import ScrollUpButton from\"react-scroll-up-button\";import{SRLWrapper}from'simple-react-lightbox';import ReactDOM from'react-dom';import config from'./config.js';var firebase=require('firebase');var axios=require('axios');// firebase.initializeApp(config)\n// var ref = firebase.database().ref('movies')\nvar movieIDs=[\"tt4633694\",\"tt0091419\",\"tt2582802\",\"tt2091935\",\"tt3416742\",\"tt0432283\",\"tt1465522\",\"tt0119116\",\"tt0446029\",\"tt0211915\",\"tt0097493\",\"tt0780536\"];var images=[];var captions=[];var databaseMovies=[];// var ref = firebase.database().ref('movies')\nfunction updateMovies(){images=[];var codeBlock='';databaseMovies.forEach(function(element){return axios.get(\"https://www.omdbapi.com/?apikey=71e07b98&i=\"+element).then(function(response){console.log(response);var img=new Image();var url=response.data.Poster;img.src=url;images.push(img);console.log(url);codeBlock=codeBlock+'<div class=\"container\"><img src ='+url+' class = \"image\"/><div class = \"middle\"><div class=\"text\"></div></div></div>';}).then(function(response){document.getElementById(\"innerArray\").innerHTML=codeBlock;}).catch(function(error){console.error(error);});});};function testing(){var ref=firebase.database().ref('movies');databaseMovies=[];console.log(\"NOTICE ME\");ref.once('value',function(snap){snap.forEach(function(item){// ref.child(item.key).remove();\nvar itemVal=item.key;// ref.child(item.val()).remove();\nconsole.log(\"itemVal:\");console.log(itemVal);databaseMovies.push(itemVal);});console.log(databaseMovies.length);}).then(function(response){updateMovies();});}//The below function is my best attempt at deleting an entry from my database.\nfunction deleteMovie(){var ref=firebase.database().ref('movies');var counter=0;ref.once('value',function(snap){snap.forEach(function(item){var itemVal=item.val();var itemKey=item.key;if(counter===0){console.log(\"movie:\");alert(itemKey);// ref.child(item.key).remove();\n// ref.child(item.val()).set(null);\n}counter=counter+1;});});}export var Movies=/*#__PURE__*/function(_Component){_inherits(Movies,_Component);var _super=_createSuper(Movies);function Movies(){_classCallCheck(this,Movies);return _super.apply(this,arguments);}_createClass(Movies,[{key:\"render\",value:function render(){testing();return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ScrollUpButton,null),/*#__PURE__*/React.createElement(\"script\",null),/*#__PURE__*/React.createElement(\"h1\",null,\"Movies\"),/*#__PURE__*/React.createElement(SRLWrapper,null,/*#__PURE__*/React.createElement(\"div\",{id:\"innerArray\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",null,\"To grader: I was unable to implement lists. I was also unable to implement delete. My half-way solution was to have a delete button outside of the lightbox that simply deleted the first movie in the database. I am able to retrieve the correct entry I want to delete, but when I attempted to delete the entry, it instead deleted the whole \\\"movies\\\" table. My attempt is in the \\\"deleteMovie()\\\" function. Also, the first time you click on this tab, all movies appear twice. I am not sure why that is, but if you click on \\\"AddMovie\\\" and come back, they will only appear once.\"),/*#__PURE__*/React.createElement(\"button\",{onClick:deleteMovie},\"Delete a movie\")));}}]);return Movies;}(Component);export default Movies;","map":{"version":3,"sources":["/Users/williamstansbury/Desktop/CS185/test-app/src/Components/Movies.js"],"names":["React","Component","github1","ScrollUpButton","SRLWrapper","ReactDOM","config","firebase","require","axios","movieIDs","images","captions","databaseMovies","updateMovies","codeBlock","forEach","element","get","then","response","console","log","img","Image","url","data","Poster","src","push","document","getElementById","innerHTML","catch","error","testing","ref","database","once","snap","item","itemVal","key","length","deleteMovie","counter","val","itemKey","alert","Movies"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport github1 from '../Images/github.png';\nimport ScrollUpButton from \"react-scroll-up-button\";\nimport { SRLWrapper } from 'simple-react-lightbox';\nimport ReactDOM from 'react-dom'\nimport config from './config.js'\nconst firebase = require('firebase');\nconst axios = require('axios');\n\n// firebase.initializeApp(config)\n// var ref = firebase.database().ref('movies')\n\nvar movieIDs = [\n\t\t\"tt4633694\",\n\t\t\"tt0091419\",\n\t\t\"tt2582802\",\n\t\t\"tt2091935\",\n\t\t\"tt3416742\",\n\t\t\"tt0432283\",\n\t\t\"tt1465522\",\n\t\t\"tt0119116\",\n\t\t\"tt0446029\",\n\t\t\"tt0211915\",\n\t\t\"tt0097493\",\n\t\t\"tt0780536\"\n\t\t];\n\nvar images = [];\n\nvar captions = [];\n\nvar databaseMovies = [];\n\n// var ref = firebase.database().ref('movies')\n\nfunction updateMovies() {\n\n\timages = []\n\tvar codeBlock = ''\n\tdatabaseMovies.forEach(element => \n\taxios.get(\"https://www.omdbapi.com/?apikey=71e07b98&i=\" + element).then(function(response) {\n\t\tconsole.log(response);\n\t\tvar img = new Image();\n\t\tvar url = response.data.Poster;\n\t\timg.src = url;\n\t\timages.push(img)\n\t\tconsole.log(url);\n\n\t\tcodeBlock = codeBlock + '<div class=\"container\"><img src =' + url + ' class = \"image\"/><div class = \"middle\"><div class=\"text\"></div></div></div>'\n\n\t}).then(function(response) {\n\t\tdocument.getElementById(\"innerArray\").innerHTML = codeBlock\n\n\t}).catch(function(error) {\n\t  \tconsole.error(error)\n\t})\n\t);\n};\n\nfunction testing() {\n\tvar ref = firebase.database().ref('movies');\n\tdatabaseMovies = []\n\n\tconsole.log(\"NOTICE ME\")\n\tref.once('value',function(snap) {\n    snap.forEach(function(item) {\n    \t// ref.child(item.key).remove();\n        var itemVal = item.key;\n        // ref.child(item.val()).remove();\n        console.log(\"itemVal:\")\n        console.log(itemVal);\n        databaseMovies.push(itemVal);\n    });\n    console.log(databaseMovies.length)\n}).then(function(response) {\n\tupdateMovies();\n});\n}\n\n//The below function is my best attempt at deleting an entry from my database.\nfunction deleteMovie() {\n\tvar ref = firebase.database().ref('movies');\n\tvar counter = 0;\n\tref.once('value',function(snap) {\n\t\tsnap.forEach(function(item) {\n\t        var itemVal = item.val();\n\t        var itemKey = item.key;\n\t        if(counter === 0) {\n\t        \tconsole.log(\"movie:\")\n\t        \talert(itemKey)\n\t        \t// ref.child(item.key).remove();\n\t        \t// ref.child(item.val()).set(null);\n\t        }\n\t        counter = counter + 1;\n\t    });\n\t});\n}\n\n\n\nexport class Movies extends Component {\n\n\n\n\trender() {\n\n\t\ttesting()\n\t\t\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<ScrollUpButton />\n\n\t\t\t\t<script>\n\n\t\t\t\t</script>\n\n\t\t\t\t<h1>Movies</h1>\n\n\t\t\t\t\t<SRLWrapper> \n\t\t\t\t\t<div id = \"innerArray\">\n\t\t\t\t\t</div>\n\t\t\t\t\t</SRLWrapper>\n\t\t\t\t\t<div>\n\t\t\t\t\t<p>To grader: I was unable to implement lists. I was also unable to implement delete. My half-way solution was to have a delete button outside of the lightbox that simply deleted the first movie in the database. I am able to retrieve the correct entry I want to delete, but when I attempted to delete the entry, it instead deleted the whole \"movies\" table. My attempt is in the \"deleteMovie()\" function. Also, the first time you click on this tab, all movies appear twice. I am not sure why that is, but if you click on \"AddMovie\" and come back, they will only appear once.</p>\n\t\t\t\t\t\t<button onClick={deleteMovie}>Delete a movie</button>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\n\nexport default Movies;"]},"metadata":{},"sourceType":"module"}