{"ast":null,"code":"var _jsxFileName = \"/Users/williamstansbury/Desktop/CS185/test-app/src/Components/Messages.js\";\nimport React, { Component } from 'react';\nimport ScrollUpButton from \"react-scroll-up-button\";\nimport config from './config.js';\n\nconst firebase = require('firebase');\n\nconst sample = [\"hi\", \"hello\", \"how are you\"];\nvar notGonnaWork;\nexport class Messages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      shouldUpdate: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    firebase.initializeApp(config);\n    let ref = firebase.database().ref('data');\n    console.log(ref);\n    ref.on('value', snapshot => {\n      const data = snapshot.val();\n      console.log(Object.values(data)); // console.log(Object.values)\n\n      this.setState({\n        data: Object.values(data)\n      });\n      notGonnaWork = this.state;\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    console.log(\"update?\"); //only call set state here if it is wrapped in a condition\n    //if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\n    //filp shouldUpdate in the onclick function\n    //react form / submit button\n\n    if (this.state.shouldUpdate !== prevState.shouldUpdate) {\n      let ref = firebase.database().ref('data');\n      ref.on('value', snapshot => {\n        const data = snapshot.val();\n        this.setState({\n          data: Object.values(data)\n        });\n      });\n    }\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    var jsonBody = {\n      \"bio\": this.state.value,\n      \"can_post\": true,\n      \"date\": \"date\",\n      \"email\": \"email\",\n      \"message\": \"message\",\n      \"name\": \"name\"\n    };\n    firebase.database().ref('data').push().set(jsonBody);\n    alert('A name was submitted: ' + this.state.value);\n    event.preventDefault();\n    this.setState({\n      shouldUpdate: !this.state.shouldUpdate\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(ScrollUpButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 6\n      }\n    }, \"Messages\"), console.log(Object.values(this.state.data)), Object.values(this.state.data).map((s, index) => /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 8\n      }\n    }, s.bio, s.name, s.message))), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, \"Name:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, \"bio:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, \"date:\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}\nexport default Messages;","map":{"version":3,"sources":["/Users/williamstansbury/Desktop/CS185/test-app/src/Components/Messages.js"],"names":["React","Component","ScrollUpButton","config","firebase","require","sample","notGonnaWork","Messages","constructor","props","state","data","shouldUpdate","handleChange","bind","handleSubmit","componentDidMount","initializeApp","ref","database","console","log","on","snapshot","val","Object","values","setState","componentDidUpdate","prevProps","prevState","event","value","target","jsonBody","push","set","alert","preventDefault","render","map","s","index","bio","name","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ScrollUpButton from \"react-scroll-up-button\";\nimport config from './config.js'\nconst firebase = require('firebase');\n\nconst sample = [\"hi\", \"hello\", \"how are you\"];\nvar notGonnaWork;\nexport class Messages extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {data: {},\n\t\tshouldUpdate: false }\n\n\t\tthis.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\tcomponentDidMount(){\n\t\tfirebase.initializeApp(config)\n\t\tlet ref = firebase.database().ref('data')\n\t\tconsole.log(ref)\n\t\tref.on('value', snapshot => {\n\t\t\tconst data = snapshot.val()\n\t\t\tconsole.log(Object.values(data))\n\n\t\t\t// console.log(Object.values)\n\t\t\tthis.setState({data: Object.values(data)})\n\t\t\tnotGonnaWork = this.state\n\t\t})\n\t}\n\tcomponentDidUpdate(prevProps, prevState, snapshot){\n\t\tconsole.log(\"update?\")\n\t\t\n\t\t//only call set state here if it is wrapped in a condition\n\t\t//if you initialize this.state.shouldUpdate and have not changed it yet then this will not run\n\n\t\t//filp shouldUpdate in the onclick function\n\n\t\t//react form / submit button\n\t\tif(this.state.shouldUpdate !== prevState.shouldUpdate){\n\t\tlet ref = firebase.database().ref('data')\n\t\tref.on('value', snapshot => {\n\t\t\tconst data = snapshot.val()\n\t\t\tthis.setState({data: Object.values(data)})\n\t\t})\n\n\t\t}\n\t}\n\n\t  handleChange(event) {\n\t    this.setState({value: event.target.value});\n\t  }\n\n\t  handleSubmit(event) {\n\t  \tvar jsonBody = {\n\t\t\t\t\"bio\":this.state.value,\n\t\t\t\t\"can_post\": true,\n\t\t\t\t\"date\" : \"date\",\n\t\t\t\t\"email\": \"email\",\n\t\t\t\t\"message\": \"message\",\n\t\t\t\t\"name\": \"name\"\n\t\t\t}\n\t\t\tfirebase.database().ref('data').push().set(jsonBody)\n\n\t    alert('A name was submitted: ' + this.state.value);\n\t    event.preventDefault();\n\n\t    this.setState({shouldUpdate: !this.state.shouldUpdate})\n\t  }\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<header>\n\t\t\t\t\t<ScrollUpButton />\n\t\t\t\t\t<h1>Messages</h1>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconsole.log(Object.values(this.state.data))\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tObject.values(this.state.data).map((s,index) => (\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{s.bio}\n\t\t\t\t\t\t\t\t{s.name}\n\t\t\t\t\t\t\t\t{s.message}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t</header>\n\t\t\t\t<form onSubmit={this.handleSubmit}>\n        <label>\n          Name:\n          <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n        </label>\n        <label>\n          bio:\n          <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n        </label>\n        <label>\n          date:\n          <input type=\"text\" value={this.state.value} onChange={this.handleChange} />\n        </label>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\nexport default Messages;"]},"metadata":{},"sourceType":"module"}